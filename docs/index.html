<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>


      <title>BTCZ Payment Gateway API</title>
      <meta name="Description" content="Accept BTCz(BitcoinZ) payments now with out BTCz gateway API! Use our service to create gateways and confirm transactions for your website. ">
  		<meta name="Keywords" content="pay.btcz.app BTCz BTC Payment Gateway API Crypto Bitcoin Bitcoinz Altcoins Block Chain Cryptography ">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
      <link rel="shortcut icon" href="/images/icoBTCZ.png" sizes="32x32" type="image/x-icon">
      <link rel="apple-touch-icon" type="image/png" href="/images/icoBTCZ.png">
      <link rel="icon" type="image/png" sizes="144x144" href="/images/icoBTCZ.png">
      <meta name="description" content="">
      <meta name="keywords" content="">
      <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
      <link href="https://fonts.googleapis.com/css?family=Raleway:400,600,700,800" rel="stylesheet">
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <link rel="stylesheet" href="css/bootstrap.min.css">
      <link rel="stylesheet" href="css/owl.carousel.css">
      <link rel="stylesheet" type="text/css" href="css/reset.css">
      <link rel="stylesheet" type="text/css" href="css/main.css">
      <link rel="stylesheet" type="text/css" href="css/custom.css">


      <script>

          if (!String.prototype.includes) {
              String.prototype.includes = function(search, start) {
                  'use strict';
                  if (typeof start !== 'number') {
                      start = 0;
                  }

                  if (start + search.length > this.length) {
                      return false;
                  } else {
                      return this.indexOf(search, start) !== -1;
                  }
              };
          }

          // ---------------------------------------------
          // Btn "Creat Payment Gateway"
          // ---------------------------------------------
          function createPayGateway() {
              var address = $("#form1_btczaddress").val();
              var message = encodeURIComponent($("#form1_message").val());
              var pingback = encodeURIComponent($("#form1_pingback").val());
              var amount = $("#form1_amount").val();
              var currency = $("#form1_currency").val();
              var customeremail = encodeURIComponent($("#form1_customermail").val());

              // Check required field
              if(address==''){
                alert('Address field empty.');
                return;
              }
              if(amount==''){
                alert('Amount field empty.')
                return;
              }

              // Substitute defauld
              if(message==''){
                message='na';
              }
              if(pingback==''){
                pingback=encodeURIComponent('https://google.com');
              }
              if(customeremail==''){
                customeremail=encodeURIComponent('na');
              }

              // Check speed checkout
              var speedSweep = 0;
              if (document.getElementById("SpeedSweep").checked){
                speedSweep=1;
              }

              // Call the request_payment/ API route
              var request = new XMLHttpRequest();
              request.open('GET', '/api/request_payment/?expect='+amount+'&currency='+currency+'&message='+message+'&seller='+address+'&customerMail='+customeremail+'&ipnPingback='+pingback+'&SpeedSweep='+speedSweep, true);
              request.onload = function () {

                // Begin accessing JSON data here
                var data = JSON.parse(this.response);
                if (request.status >= 200 && request.status < 400) {

                  // If no error, update UI wit the gateway info
                  if (!data.error){

                    $("#f-about_text").css('display', 'block');
                    $("#gID1").html(data.id);
                    $("#gID2").html(data.id);
                    $("#gAPI").html(JSON.stringify(data, null, "\t"));

                    $("#iFrame").attr('src', "invoice/"+data.id);
                    $('html, body').animate({
                        scrollTop: $("#f-about_text").offset().top
                    }, 1000);

                  } else {
                    alert(data.error);
                  }

                } else {
                  alert('Error retrieving API');
                }
              }
              request.send();
          }

          function resizeIframe() {
              var obj = document.getElementById("iFrame");
              obj.style.height = (obj.contentWindow.document.body.scrollHeight) + 'px';
              setTimeout('resizeIframe()', 200);
          }

      </script>

  </head>

  <body>
       <div data-template="3" class="f-wrapper ">

           <!-- Top Header of the page  -->
           <div class="header_topbar">
               <div class="container">
                   <div class="row">
                       <div class="col-lg-9 col-md-9 col-sm-9 col-xs-10 ">
                           <div class="ht_left">
                               <div class="clock">
                                   <ul>
                                       <li>UTC</li>
                                       <li id="hours"></li>
                                       <li id="point">:</li>
                                       <li id="min"></li>
                                       <li id="point-2">:</li>
                                       <li id="sec"></li>
                                   </ul>
                               </div>
                               <div class="ht_rate">
                                   <p>BTCz/BTC: <span id="Z_BTC"></span> BTCz/USD: <span id="Z_USD"></span> BTCz/EUR: <span id="Z_EUR"></span></p>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>

           <!-- Top of the page / API Test Form  -->
           <div class="f-header btc_header_home">

               <!-- Menu barre  -->
               <div class="f-header_bar btc_header_bar_home">
                   <div class="container">
                       <div class="row">
                           <div class="col-xs-7 col-sm-3 col-md-3 col-lg-3 f-logo" style="padding: 28px 0;">
                               <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                   <a href="/"><img class="img-responsive" width="175px" src="images/btcz_logo.png" alt=""></a>
                               </div>
                           </div>
                           <div class="f-menu_toggle"> <i id="f-menu_toggle" class="fa fa-bars"></i>
                           </div>
                           <div class="col-xs-12 col-sm-9 col-md-9 col-lg-9 f-nav_sec">
                               <div class="f-nav">
                                   <nav>
                                       <ul>
                                           <li class="f-active"> <a href="/">Home</a>
                                           </li>
                                           <li class="">
                                             <a href="#" onClick="
                                               $('html, body').animate({
                                                 scrollTop: $('#f-api').offset().top
                                               }, 1000);
                                                   ">API</a>
                                           </li>
                                           <li class="">
                                             <a href="#" onClick="
                                               $('html, body').animate({
                                                 scrollTop: $('#plugins').offset().top
                                               }, 1000);
                                                   ">Plugins</a>
                                           </li>
                                           <li class="">
                                             <a href="#" onClick="
                                               $('html, body').animate({
                                                 scrollTop: $('#contactUs').offset().top
                                               }, 1000);
                                                   ">Contact</a>
                                           </li>
                                           <li class="quote_btn"> <a target="_blank" href="https://www.mybitcoinzwallet.com/">Get a wallet</a>
                                           </li>
                                       </ul>
                                   </nav>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>

               <!-- API test FORM and WEB UI short description section  -->
               <div class="f-slider" style="top: 25%;">
                   <div class="f-slide_text container">
                       <div class="row">
                           <div class="col-sm-6 col-md-7">
                               <h1 style="margin-left: 10px;">BTCZ Open-source Payment Gateway</h1>
                               <h2 style="margin-left: 10px;">&nbsp;&nbsp;- Create instant payment gateways<br>&nbsp;&nbsp;- No registration necessary<br>&nbsp;&nbsp;- No additional fees<br>&nbsp;&nbsp;- Automatic transactions </h2>
                           </div>
                           <div class="col-sm-6 col-md-5">
                             <div style=" width: 100%; border:5px solid red; background-color: white; padding: 3px"><b>Caution:</b> This version is a "beta" being tested. Use in production is not recommended. We disclaim all resposability in case of loss of funds related to the use of this software.</div>
                               <form>
                                   <div class="form-group">
                                       <input type="text" id="form1_btczaddress" placeholder="Receiver BTCz Address*">
                                   </div>

                                   <div class="form-group">
                                       <textarea  type="text"  id="form1_message"  placeholder="Message" rows="5"></textarea>
                                   </div>

                                   <div class="form-group">
                                       <input type="text" id="form1_pingback" class="form-control" placeholder="Pingback URL">
                                   </div>

                                   <div class="form-group">
                                       <input type="text" id="form1_customermail" class="form-control" placeholder="Customer eMail">
                                   </div>

                                   <div class="form-group">
                                       <div class="row">
                                           <div class="col-xs-6">
                                               <input type="text" id="form1_amount" class="form-control" placeholder="Amount*">
                                           </div>
                                           <div class="col-xs-6">
                                               <select id="form1_currency">
                                                 <option value="BTCZ">BTCZ</option>
                                                 <option value="USD">USD</option>
                                                 <option value="EUR">EUR</option>
                                                 <option value="CHF">CHF</option>
                                                 <option value="GBP">GBP</option>
                                                 <option value="RUB">RUB</option>
                                               </select>
                                           </div>
                                       </div>
                                   </div>



                                   <div class="btn-group" data-toggle="buttons">
                                     <label class="btn btn-default" id="SpeedSweepLabel">Speed Pay NOT Active</label>
                                       <input type="checkbox"  id="SpeedSweep" hidden />


                                    </div>



                                   <a onClick="createPayGateway();" class="btn btn-primary">Create Payment Gateway</a> <small>* required<br><br></small>
                               </form>
                           </div>
                       </div>
                   </div>
               </div>
           </div>

           <!-- LIVE GATEWAY section / Display info about the gateway -->
           <section id="f-about_text" style="display:none;">
               <div class="f-section f-about_text" style="padding-bottom:10px;">
                   <div class="container">
                       <div class="row clearfix">

                          <!-- Live gateway informations  -->
                           <div class="col-xs-12 col-sm-5 col-md-5 col-lg-5">

                               <h2>Your payment gateway is live!</h2>

                               <h3>API Response</h3>
                               <pre><b id="gAPI"></b></pre><br><br>
                               <h3>Gateway ID</h3>
                               <pre><b id="gID1"></b></pre><br><br>
                               <h3>Gateway template URL</h3>
                               <pre>https://pay.btcz.app/invoice/<b id="gID2"></b></pre><br><br>

                               <br> This is a free and open-source service, please support us by donating.<br><br>
<pre>
<b>[BTCz.app] BTCz</b>: t1VYSo8VtpKMm1SUwp1KJHbqrtfqj7tgpaE
<b>[Community] BTCz</b>: t1fHHnAXxoPWGY77sG5Zw2sFfGUTpW6BcSZ
</pre>

                           </div>

                           <!-- Gateway Invoice template  -->
                           <div class="col-xs-12 col-sm-7 col-md-7 col-lg-7">
                               <div class="desktop_img">
                                   <iframe id="iFrame" width="100%" style="min-height: 725px;" frameborder="0" scrolling="no" onload="resizeIframe()"></iframe>
                               </div>
                           </div>

                       </div>
                   </div>
               </div>
           </section>



           <section id="f-api" style="display:block;" style="padding-top:0px;">
               <div class="f-section f-about_text" style="padding-top:60px;">
                   <div class="container">
                       <div class="row clearfix">

                           <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                               <div class="f-section_head">
                                   <h2>API Info</h2>
                               </div>

                               <p>You can use our API to accept BTCz payments on your website and verify the transaction.</p>

                               <h4>Creating a gateway</h4>
                               <ul>

                                   <li><b>API ROUTE:</b>
                                       <pre>/api/request_payment/:expect/:currency/:message/:seller/:customerMail/:ipnPingback/:cliCallbackSuccess/:cliCallbackError/:SpeedSweep/:secret</pre>
                                   </li>
                                   <li><b>GET Example full router path:</b>
                                       <pre>https://pay.btcz.app/api/request_payment/0.005/BTCZ/wheres%20the%20money%20lebowski/t1VYSo8VtpKMm1SUwp1KJHbqrtfqj7tgpaE/test@test.com/https%253A%252F%252Fwww.google.com/https%253A%252F%252Fwww.google.com/https%253A%252F%252Fwww.google.com/0/01234abcd</pre>
                                   </li>
                                   <li><b>GET Example with query string:</b>
                                      <pre>https://pay.btcz.app/api/request_payment/?expect=1.235&amp;currency=BTCZ&message=wheres%20the%20money%20lebowski&seller=t1VYSo8VtpKMm1SUwp1KJHbqrtfqj7tgpaE&customerMail=test@test.com&ipnPingback=https%3A%2F%2Fwww.google.com&cliSuccessURL=https%3A%2F%2Fwww.google.com&cliErrorURL=https%3A%2F%2Fwww.google.com&SpeedSweep=0&secret=01234abcd</pre>
                                   </li>
                                   <li><b>Expanded:</b>
<pre>
https://pay.btcz.app/api/request_payment/?
  expect=0.005&
  currency=BTCZ&
  message=wheres%20the%20money%20lebowski&
  seller=t1VYSo8VtpKMm1SUwp1KJHbqrtfqj7tgpaE&
  customerMail=test@test.com&
  ipnPingback=https%3A%2F%2Fwww.google.com&
  cliSuccessURL=https%3A%2F%2Fwww.google.com&
  cliErrorURL=https%3A%2F%2Fwww.google.com&
  SpeedSweep=0&
  secret=01234abcd
</pre>
                                   </li>
                                    <li>
                                      <b>Notes: </b>
                                      <ul>
                                        <li>By using full router path, all parameters are mandatory.</li>
                                        <li>By using query string, some parameters are optional.</li>
                                        <li>If the secret is not set, the gateway will generate a 20 bytes hex string.</li>
                                        <li>Encode the URL's to awoid routing issue:</li>
                                          <ul>
                                              <li>Simple URL encoding by using GET with query string.</li>
                                              <li>Double URL encoding by using GET with full router path.</li>
                                          </ul>
                                      </ul>
                                    </li>

                                   <li></br><b>Parameters definition:</b>
                                     <ul>
                                       <li><b>expect</b> : [Mandatory] The expected amount to pay.</li>
                                       <li><b>currency</b> : [Mandatory] The currency code (supported: BTCZ, BTC, USD, EUR, CHF, GBP, RUB).</li>
                                       <li><b>seller</b> : [Mandatory] The seller BTCz address.</li>
                                       <li><b>ipnPingback</b> : [Mandatory] The IPN URL to get (from server side) once paid or expired.</li>
                                       <li><b>message</b> : [Optional] An optional message.</li>
                                       <li><b>customerMail</b> : [Optional] The customer eMail</li>
                                       <li><b>cliSuccessURL</b> : [Optional] The URL to redirect browser on success.</li>
                                       <li><b>cliErrorURL</b> : [Optional] The URL to redirect browser on expired.</li>
                                       <li><b>SpeedSweep</b> : [Optional] Use speed checkout (0=disabled / 1=enabled), default is 0.</li>
                                       <li><b>secret</b> : [Optional] The secret phrase that is appended to IPN call. If not set, the gateway generate a random one.</li>
                                     </ul>
                                   </li>

                                   <li></br><b>Sample JSON Response:</b>
<pre>
{
  "id":"c5e9631d-b107-4022-8de5-ae9f0efd03af",
  "secret":"01234abcd",
  "address":"t1gwku8spbCFUodyJ26njknnDxeZGM8hVmm",
  "link":"bitcoinz:t1gwku8spbCFUodyJ26njknnDxeZGM8hVmm?amount=14.77818972&message=Hello",
  "qr":"http://localhost:2222/generate_qr/bitcoinz%3At1gwku8spbCFUodyJ26njknnDxeZGM8hVmm%3Famount%3D14.77818972%26message%3DHello",
  "qr_simple":"http://localhost:2222/generate_qr/t1gwku8spbCFUodyJ26njknnDxeZGM8hVmm"
}
</pre>
                                   </li>

                                   <li><b>Invoice URL template:</b>
                                       <pre>https://pay.btcz.app/invoice/4d30ed16-d729-4ee5-aeaa-d6787e79b90c</pre>
                                   </li>

                               </ul>

                               <br><br>

                               <h4>Fetching Data from Existing Gateway</h4>
                               <ul>


                                   <li><b>API ROUTE:</b>
                                       <pre>/api/check_payment/:id</pre>
                                   </li>

                                   <li><b>GET Example:</b>
                                       <pre>https://pay.btcz.app/api/check_payment/4d30ed16-d729-4ee5-aeaa-d6787e79b90c</pre>
                                   </li>
                                   <li><b>Sample Response:</b>
<pre>
{
  "generated":"t1gwku8spbCFUodyJ26njknnDxeZGM8hVmm",
  "btcz_expected":14.77818972,
  "speed_sweep_fee":5,
  "btcz_actual":0,
  "btcz_unconfirmed":0,
  "currency":"USD",
  "amount":0.01,
  "timestamp_start":1537815608394,
  "timestamp_now":1537816142575,
  "timestamp_stop":1537816808394,
  "state":0,
  [optional] "successURL":"https://mysite_or_IP/result/?Hello=1",
  [optional] "errURL":"https://mysite_or_IP/result/?Hello=0"
}
</pre>

                                   </li>

                                   <li>
                                     <b>Notes: </b>
                                     <ul>
                                       <li>The speed_sweep_fee is in %. (5% for speed checkout, no extra fee for standard checkout)</li>
                                       <li>Use the "id" from the request_payment/ call JSON return.</li>
                                     </ul>
                                   </li>

                               </ul>
                               <br>




                               <br>
                               <h4>Other Informations</h4>

                               <ul>
                                   <li><b>States explained</b>
                                       <ul>
                                           <li>0: Awaiting payor to continue</li>
                                           <li>1: Awaiting payment</li>
                                           <li>2: Gateway expired</li>
                                           <li>5: Payment & IPN Pingback completed</li>
                                       </ul>
                                   </li>

                                   <li><b>IPN pingback:</b>
                                       <ul>
                                           <li>On success paid or expired, the gateway pingback to the defined ipnPingback url set by the request_payment/ call. The secret and the state is appended.
                                            <pre>https://yourDomaine.com/yourPath/?and=yourParam&secret=01234abcd&state=5</pre>
                                            <pre>https://yourDomaine.com/yourScript.php?secret=01234abcd&state=2</pre>
                                           </li>
                                       </ul>
                                   </li>

                                   <li><b>More:</b>
                                       <ul>
                                         <li>You will only receive a callback URL in the JSON with states 2-errURL and 5-successURL</li>
                                         <li>Standard tx fee: 0.0001</li>
                                         <li>TX confirmation count: 2</li>
                                         <li>State 2 and 5 execute the :ipnPingback URL (on server side)</li>
                                       </ul>
                                   </li>

                               </ul>

                           </div>
                       </div>
                   </div>
               </div>
           </section>

           <div id="plugins" class="container f-section f-contact_var" style="padding-top:0px;">
               <div>
                   <div class="resp-tabs-container hor_1">
                       <div class="f-tab_single">
                           <div class="clearfix row">
                               <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 f-addr_map">
                                   <div class="f-section_head">
                                       <h2>Statistics</h2>
                                   </div>
                 <ul>
                                   <li>
                                     <b>Total created gateway: </b><span id="TotGateway"></span>
                                   </li>
                                   <li>
                                     <b>Actual open gateway: </b><span id="ActualGateway"></span>
                                   </li>
                                   <li>
                                     <b>Paid gateway: </b><span id="PaidGateway"></span>
                                   </li>
                                   <li>
                                     <b>Expired gateway: </b><span id="ExpiredGateway"></span>
                                   </li>
                  </ul>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>

           <div id="plugins" class="container f-section f-contact_var" style="padding-top:0px;">
               <div>
                   <div class="resp-tabs-container hor_1">
                       <div class="f-tab_single">
                           <div class="clearfix row">
                               <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 f-addr_map">
                                   <div class="f-section_head">
                                       <h2>Commerce Plugins</h2>
                                   </div>
                 <ul>
                                   <li>
                                     <b>WooCommerce 3.4 - BTCz Gateway (beta)</b> </br>
                                     <a href="https://github.com/MarcelusCH/BTCz-Pay/tree/master/plugin/woocommerce3.4">https://github.com/MarcelusCH/BTCz-Pay/tree/master/plugin/woocommerce3.4</a>
                                   </li>
                  </ul>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>

           <div id="contactUs" class="container f-section f-contact_var" style="padding-top:0px;">
               <div>
                   <div class="resp-tabs-container hor_1">
                       <div class="f-tab_single">
                           <div class="clearfix row">
                               <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 f-addr_map">
                                   <div class="f-section_head">
                                       <h2>Contact us</h2>
                                   </div>
                                   <div class="f-contact_in">

                                     For any issues, please contact me via the community forum or via the github repo.</br></br>
                                     <ul>
                                                       <li>
                                                         <a href="https://github.com/MarcelusCH/BTCz-Pay">https://github.com/MarcelusCH/BTCz-Pay</a>
                                                       </li>
                                                       <li>
                                                         <a href="https://forum.btcz.rocks/t/community-hosted-payment-gateway/842">https://forum.btcz.rocks/t/community-hosted-payment-gateway/842</a>
                                                       </li>
                                      </ul>

                                      <br><br> This is a <b>free</b> and <b>OPEN SOURCE</b> service, please support us by donating<br><br>
<pre>
<b>[pay.btcz.app] BTCz</b>: t1VYSo8VtpKMm1SUwp1KJHbqrtfqj7tgpaE
<b>[Community] BTCz</b>: t1fHHnAXxoPWGY77sG5Zw2sFfGUTpW6BcSZ
</pre>

                                        <br><br><br><br>
                                   </div>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>


           <footer>
               <div class="f-footer_strip">
                   <div class="container">
                       <div class="row">
                           <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 pull-right f-footer_nav">
                               <nav>
                                   <ul>
                                       <li class="f-active f-has_child"> <a href="/">Home</a>
                                       </li>


                                       <li class=""> <a href="#" onClick="
     $('html, body').animate({
       scrollTop: $('#f-api').offset().top
     }, 1000);
         ">API</a>
                                       </li>
                                           <li class=""> <a href="#" onClick="
     $('html, body').animate({
       scrollTop: $('#plugins').offset().top
     }, 1000);
         ">Plugins</a>
                                           </li>
                                       <li class=""> <a href="#" onClick="
     $('html, body').animate({
       scrollTop: $('#contactUs').offset().top
     }, 1000);
         ">Contact</a>
                                       </li>
                                   </ul>
                               </nav>
                           </div>
                           <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                               <p>Copyright pay.btcz.app Â©
                                   2018. All right reserved

                 </p>
                           </div>
                       </div>
                   </div>
               </div>
           </footer>
       </div>
       <div class="f-back_to_top" id="f-back_to_top"> <i class="material-icons">arrow_upward</i>
       </div>
       <!-- JQUERY:: JQUERY.JS -->
       <!--<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>-->
       <script type="text/javascript" src="js/jquery.min.js"></script>
       <!-- JQUERY:: COOKIE.JS -->
       <script type="text/javascript" src="js/cookie.js"></script>
       <!-- JQUERY:: OWL.JS -->
       <script type="text/javascript" src="js/owl.carousel.min.js"></script>
       <!-- JQUERY:: COUNTER.JS -->
       <script type="text/javascript" src="js/jquery.counter.js"></script>
       <!-- JQUERY:: CUSTOM.JS -->
       <script type="text/javascript" src="js/custom.js"></script>
   </body>



</html>
